<!DOCTYPE html>
<html>
<head>
  <title>Previsão de Futebol com Jogadores</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    select, button { padding: 8px; margin-top: 10px; }
    ul { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Previsão de Futebol</h1>
  <p>Escolha um time para ver resultados, previsões e jogadores aptos:</p>

  <select id="timeSelect">
    <!-- Espanha -->
    <option value="33">Real Madrid</option>
    <option value="529">Barcelona</option>
    <option value="541">Atlético Madrid</option>
    <option value="530">Sevilla</option>
    <option value="531">Valencia</option>
    <option value="532">Villarreal</option>
    <option value="533">Real Sociedad</option>
    <!-- Inglaterra -->
    <option value="42">Manchester United</option>
    <option value="50">Liverpool</option>
    <option value="46">Manchester City</option>
    <option value="49">Chelsea</option>
    <option value="45">Arsenal</option>
    <option value="51">Tottenham</option>
    <!-- Alemanha -->
    <option value="157">Bayern Munique</option>
    <option value="158">Borussia Dortmund</option>
    <option value="160">RB Leipzig</option>
    <option value="163">Bayer Leverkusen</option>
    <option value="161">Schalke 04</option>
    <option value="162">Wolfsburg</option>
    <!-- Itália -->
    <option value="109">Juventus</option>
    <option value="108">Inter de Milão</option>
    <option value="110">AC Milan</option>
    <option value="107">Napoli</option>
    <option value="111">Roma</option>
    <option value="112">Lazio</option>
    <!-- França -->
    <option value="85">Paris Saint-Germain</option>
    <option value="82">Olympique de Marseille</option>
    <option value="80">Lyon</option>
    <option value="81">Monaco</option>
    <option value="83">Nice</option>
    <option value="84">Lille</option>
    <!-- Bélgica -->
    <option value="621">Club Brugge</option>
    <option value="622">Gent</option>
    <option value="623">Anderlecht</option>
    <option value="624">Standard Liège</option>
    <option value="625">Antwerp</option>
    <!-- Holanda -->
    <option value="87">Ajax</option>
    <option value="88">PSV</option>
    <option value="89">Feyenoord</option>
    <option value="90">AZ Alkmaar</option>
    <option value="91">Twente</option>
    <!-- Turquia -->
    <option value="574">Galatasaray</option>
    <option value="577">Fenerbahçe</option>
    <option value="580">Beşiktaş</option>
    <option value="581">Trabzonspor</option>
    <option value="582">Başakşehir</option>
  </select>

  <button onclick="verResultados()">Ver resultados e previsões</button>

  <h2>Últimos resultados:</h2>
  <ul id="resultados"></ul>

  <h2>Previsões para o próximo jogo:</h2>
  <ul id="previsoes"></ul>

  <h2>Jogadores aptos para jogar:</h2>
  <ul id="jogadores"></ul>

  <script>
    // Relatórios médicos simulados
    const relatoriosMedicos = {
      "33":[{nome:"Vinicius Jr", aptidao:100},{nome:"Benzema", aptidao:80},{nome:"Courtois", aptidao:100},{nome:"Modric", aptidao:90}],
      "529":[{nome:"Lewandowski", aptidao:100},{nome:"Ter Stegen", aptidao:100},{nome:"Frenkie de Jong", aptidao:85},{nome:"Pedri", aptidao:90}],
      "541":[{nome:"Griezmann", aptidao:90},{nome:"Oblak", aptidao:100},{nome:"Koke", aptidao:95},{nome:"Llorente", aptidao:85}],
      "42":[{nome:"Rashford", aptidao:100},{nome:"De Gea", aptidao:90},{nome:"Bruno Fernandes", aptidao:95},{nome:"Casemiro", aptidao:85}],
      "50":[{nome:"Salah", aptidao:100},{nome:"Van Dijk", aptidao:100},{nome:"Alisson", aptidao:100},{nome:"Henderson", aptidao:90}],
      "157":[{nome:"Lewandowski", aptidao:100},{nome:"Neuer", aptidao:100},{nome:"Kimmich", aptidao:95},{nome:"Gnabry", aptidao:90}],
      "158":[{nome:"Haaland", aptidao:100},{nome:"Reus", aptidao:85},{nome:"Bürki", aptidao:90},{nome:"Brandt", aptidao:80}],
      "109":[{nome:"Vlahovic", aptidao:95},{nome:"Donnarumma", aptidao:100},{nome:"Chiesa", aptidao:90},{nome:"Locatelli", aptidao:85}],
      "108":[{nome:"Lukaku", aptidao:90},{nome:"Handanovic", aptidao:100},{nome:"Brozovic", aptidao:90},{nome:"Dzeko", aptidao:85}],
      "85":[{nome:"Messi", aptidao:100},{nome:"Neymar", aptidao:90},{nome:"Mbappe", aptidao:100},{nome:"Donnarumma", aptidao:100}],
      "621":[{nome:"Vormer", aptidao:90},{nome:"Denswil", aptidao:85},{nome:"Vanaken", aptidao:95},{nome:"Lang", aptidao:100}],
      "622":[{nome:"Samatta", aptidao:90},{nome:"Trossard", aptidao:95},{nome:"Ngadeu", aptidao:85},{nome:"Hrosovsky", aptidao:80}],
      "87":[{nome:"Tadic", aptidao:95},{nome:"Onana", aptidao:100},{nome:"Berghuis", aptidao:90},{nome:"Haller", aptidao:100}],
      "88":[{nome:"Gakpo", aptidao:95},{nome:"Drommel", aptidao:90},{nome:"Rensch", aptidao:85},{nome:"Gotze", aptidao:80}],
      "574":[{nome:"Falcao", aptidao:90},{nome:"Muslera", aptidao:100},{nome:"Yilmaz", aptidao:95},{nome:"Pelkas", aptidao:85}],
      "577":[{nome:"Enner Valencia", aptidao:90},{nome:"Altay", aptidao:100},{nome:"Joshua King", aptidao:85},{nome:"Pelkas", aptidao:80}],
      "580":[{nome:"Vlahovic", aptidao:90},{nome:"Loris", aptidao:95},{nome:"Rosier", aptidao:85},{nome:"Rashica", aptidao:80}],
      "581":[{nome:"Bakasetas", aptidao:90},{nome:"Uğurcan", aptidao:100},{nome:"Nwakaeme", aptidao:85},{nome:"Cornelius", aptidao:80}]
    };

    async function verResultados() {
      const teamId = document.getElementById("timeSelect").value;
      const url = `https://v3.football.api-sports.io/fixtures?team=${teamId}&last=5`;

      try {
        const res = await fetch(url, {
          method: 'GET',
          headers: {
            'X-RapidAPI-Key': 'a1c8a92831aa83b9846d6433064d199d', // coloque sua chave da API aqui
            'X-RapidAPI-Host': 'api-football-v1.p.rapidapi.com'
          }
        });

        const data = await res.json();
        const jogos = data.response;

        // Mostrar últimos resultados
        const ul = document.getElementById("resultados");
        ul.innerHTML = "";
        if(jogos.length === 0) {
          ul.innerHTML = "<li>Sem resultados disponíveis.</li>";
        } else {
          jogos.forEach(jogo => {
            const li = document.createElement("li");
            li.textContent = `${jogo.teams.home.name} ${jogo.goals.home} - ${jogo.goals.away} ${jogo.teams.away.name}`;
            ul.appendChild(li);
          });
        }

        // Previsões simples
        let totalGolsTime = 0;
        let totalGolsAdversario = 0;
        let n = jogos.length;

        jogos.forEach(jogo => {
          totalGolsTime += jogo.goals.home;
          totalGolsAdversario += jogo.goals.away;
        });

        const previsoes = document.getElementById("previsoes");
        previsoes.innerHTML = `
          <li>Gols previstos: ${(totalGolsTime / n).toFixed(1)}</li>
          <li>Gols do adversário: ${(totalGolsAdversario / n).toFixed(1)}</li>
          <li>BTTS provável: ${(totalGolsTime > 0 && totalGolsAdversario > 0) ? "Sim" : "Não"}</li>
        `;

        // Jogadores aptos
        const jogadores = document.getElementById("jogadores");
        jogadores.innerHTML = "";
        if(relatoriosMedicos[teamId]){
          relatoriosMedicos[teamId].forEach(jogador => {
            const li = document.createElement("li");
            li.textContent = `${jogador.nome} - ${jogador.aptidao}% apto`;
            jogadores.appendChild(li);
          });
        } else {
          jogadores.innerHTML = "<li>Não há dados de jogadores para este time.</li>";
        }

      } catch (error) {
        console.error(error);
        alert("Erro ao buscar os resultados!");
      }
    }
  </script>
</body>
</html>

